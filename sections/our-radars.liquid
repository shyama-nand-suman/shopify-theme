{% schema %}
{
  "name": "Our Radars",
  "blocks": [
    {
      "type": "radar",
      "name": "Radar Item",
      "settings": [
        { "type": "image_picker", "id": "thumb", "label": "Left strip image" },
        { "type": "image_picker", "id": "main", "label": "Main image" },
        { "type": "text", "id": "label", "label": "Vertical label", "default": "Cloud" },
        { "type": "text", "id": "title", "label": "Title", "default": "Cloud" },
        { "type": "textarea", "id": "desc", "label": "Description", "default": "Boosting profits and enabling a competitive edge with cloud" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Our Radars",
      "blocks": [
        { "type": "radar" },
        { "type": "radar" },
        { "type": "radar" },
        { "type": "radar" }
      ]
    }
  ]
}
{% endschema %}

<section class="radars">
  <h2 class="radars-title">Our Radars</h2>

  <div class="radars-wrap">
    <!-- LEFT STRIPS -->
    <div class="radar-strips">
      {% for block in section.blocks %}
        <div
          class="radar-strip {% if forloop.first %}active{% endif %}"
          data-index="{{ forloop.index0 }}"
          style="background-image:url({{ block.settings.thumb | image_url: width: 600 }})"
        >
          <span>{{ block.settings.label }}</span>
        </div>
      {% endfor %}
    </div>

    <!-- RIGHT BIG IMAGE -->
    <div class="radar-main">
      {% for block in section.blocks %}
        <div class="radar-panel {% if forloop.first %}active{% endif %}">
          <img
            src="{{ block.settings.main | image_url: width: 2000 }}"
            alt="{{ block.settings.title }}"
          >
          <div class="radar-content">
            <h3>{{ block.settings.title }}</h3>
            <p>{{ block.settings.desc }}</p>
            {% if block.settings.link != blank %}
              <a href="{{ block.settings.link }}">Explore â†’</a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
.radars{
  max-width:1200px;
  margin:80px auto;
  padding:0 20px;
}
.radars-title{
  font-size:36px;
  margin-bottom:30px;
}

/* LAYOUT */
.radars-wrap{
  display:flex;
  height:420px;
  gap:20px;
}

/* LEFT STRIPS */
.radar-strips{
  display:flex;
}
.radar-strip{
  width:70px;
  background-size:cover;
  background-position:center;
  cursor:pointer;
  position:relative;
  filter:grayscale(100%);
  transition:.4s;
}
.radar-strip::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.5);
}
.radar-strip span{
  position:absolute;
  bottom:20px;
  left:50%;
  transform:rotate(-90deg) translateX(-50%);
  transform-origin:left;
  color:#fff;
  font-size:14px;
  white-space:nowrap;
  z-index:2;
}
.radar-strip.active{
  filter:grayscale(0);
}
.radar-strip.active::after{
  background:rgba(0,0,0,.2);
}

/* RIGHT IMAGE */
.radar-main{
  flex:1;
  position:relative;
  overflow:hidden;
}
.radar-panel{
  position:absolute;
  inset:0;
  opacity:0;
  transition:.5s;
}
.radar-panel.active{
  opacity:1;
  z-index:1;
}
.radar-panel img{
  width:100%;
  height:100%;
  object-fit:cover; /* ðŸ”¥ FULL IMAGE FIT */
}

/* CONTENT */
.radar-content{
  position:absolute;
  bottom:30px;
  left:30px;
  color:#fff;
  max-width:380px;
}
.radar-content h3{
  font-size:28px;
  margin-bottom:10px;
}
.radar-content p{
  font-size:14px;
  opacity:.9;
}
.radar-content a{
  display:inline-block;
  margin-top:10px;
  color:#fff;
  text-decoration:none;
  font-weight:600;
}

/* MOBILE */
@media(max-width:900px){
  .radars-wrap{
    flex-direction:column;
    height:auto;
  }
  .radar-strips{
    flex-direction:row;
    height:80px;
  }
  .radar-strip{
    width:100%;
  }
  .radar-strip span{
    transform:none;
    bottom:10px;
    left:10px;
  }
  .radar-main{
    height:300px;
  }
}
</style>

<script>
document.addEventListener("DOMContentLoaded",()=>{
  const strips=document.querySelectorAll(".radar-strip");
  const panels=document.querySelectorAll(".radar-panel");

  strips.forEach(strip=>{
    strip.addEventListener("mouseenter",()=>{
      const i=strip.dataset.index;
      strips.forEach(s=>s.classList.remove("active"));
      panels.forEach(p=>p.classList.remove("active"));
      strip.classList.add("active");
      panels[i].classList.add("active");
    });
  });
});
</script>
