{% schema %}
{
  "name": "Recent News Grid",
  "settings": [
    {
      "type": "text",
      "id": "right_heading",
      "label": "Right column heading",
      "default": "Recent News"
    }
  ],
  "blocks": [
    {
      "type": "tile",
      "name": "Left Tile",
      "settings": [
        { "type": "text", "id": "label", "label": "Top label", "default": "QUARTERLY REPORT" },
        { "type": "textarea", "id": "title", "label": "Title" },
        { "type": "text", "id": "cta", "label": "CTA text", "default": "VIEW MORE" },
        { "type": "url", "id": "link", "label": "CTA link" },
        { "type": "color", "id": "bg", "label": "Background color", "default": "#b36a00" }
      ]
    },
    {
      "type": "image_tile",
      "name": "Image Tile",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "label", "label": "Label", "default": "PRESS RELEASE" },
        { "type": "textarea", "id": "title", "label": "Title" },
        { "type": "url", "id": "link", "label": "Read more link" }
      ]
    },
    {
      "type": "news",
      "name": "Right News Item",
      "settings": [
        { "type": "text", "id": "date", "label": "Date" },
        { "type": "textarea", "id": "title", "label": "News title" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Recent News (Animated Grid)"
    }
  ]
}
{% endschema %}

<section class="rn-wrap">
  <div class="rn-container">

    <!-- LEFT GRID -->
    <div class="rn-left">

      {% for block in section.blocks %}
        {% if block.type == 'tile' %}
          <a href="{{ block.settings.link }}" class="rn-tile"
             style="background:{{ block.settings.bg }}">
            <span class="rn-label">{{ block.settings.label }}</span>
            <h3>{{ block.settings.title }}</h3>
            <span class="rn-cta">{{ block.settings.cta }}</span>
          </a>
        {% endif %}
      {% endfor %}

      {% for block in section.blocks %}
        {% if block.type == 'image_tile' %}
          <a href="{{ block.settings.link }}" class="rn-image-tile">
            {{ block.settings.image | image_url: width: 1200 | image_tag: class:'rn-img' }}
            <div class="rn-image-content">
              <span>{{ block.settings.label }}</span>
              <p>{{ block.settings.title }}</p>
              <strong>READ MORE</strong>
            </div>
          </a>
        {% endif %}
      {% endfor %}

    </div>

    <!-- RIGHT NEWS -->
    <div class="rn-right">
      <h2>{{ section.settings.right_heading }}</h2>

      {% for block in section.blocks %}
        {% if block.type == 'news' %}
          <a href="{{ block.settings.link }}" class="rn-news">
            <small>{{ block.settings.date }}</small>
            <p>{{ block.settings.title }}</p>
          </a>
        {% endif %}
      {% endfor %}

      <a href="#" class="rn-view-all">VIEW ALL</a>
    </div>

  </div>
</section>

<style>
/* ===== WRAPPER ===== */
.rn-wrap{
  padding:120px 20px;
  background:#fff;
}

/* GRID */
.rn-container{
  max-width:1300px;
  margin:auto;
  display:grid;
  grid-template-columns:2.2fr 1fr;
  gap:80px;
}

/* LEFT */
.rn-left{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  grid-auto-rows:260px;
  gap:20px;
}

/* TILE */
.rn-tile{
  padding:28px;
  color:#fff;
  text-decoration:none;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  opacity:0;
  transform:translateY(40px);
  animation:fadeUp 1s ease forwards;
}

.rn-label{
  font-size:11px;
  letter-spacing:1px;
}

.rn-tile h3{
  font-size:20px;
  line-height:1.3;
}

.rn-cta{
  font-size:12px;
  font-weight:600;
}

/* IMAGE TILE */
.rn-image-tile{
  position:relative;
  grid-column:span 2;
  overflow:hidden;
  opacity:0;
  transform:translateY(40px);
  animation:fadeUp 1s ease forwards;
  animation-delay:.2s;
}

.rn-img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.rn-image-content{
  position:absolute;
  bottom:20px;
  left:20px;
  color:#000;
  background:#fff;
  padding:18px;
  max-width:320px;
}

.rn-image-content span{
  font-size:11px;
}

.rn-image-content p{
  font-size:14px;
  margin:10px 0;
}

/* RIGHT */
.rn-right h2{
  font-size:28px;
  margin-bottom:30px;
  opacity:0;
  animation:fadeUp .8s ease forwards;
}

.rn-news{
  display:block;
  padding:18px 0;
  border-bottom:1px solid #ddd;
  text-decoration:none;
  color:#000;
  opacity:0;
  transform:translateY(20px);
  animation:fadeUp .8s ease forwards;
  animation-delay:.2s;
}

.rn-news small{
  font-size:12px;
  color:#777;
}

.rn-news p{
  font-size:14px;
  margin-top:6px;
}

.rn-view-all{
  display:inline-block;
  margin-top:30px;
  font-size:12px;
  font-weight:600;
}

/* ANIMATION */
@keyframes fadeUp{
  to{
    opacity:1;
    transform:translateY(0);
  }
}

/* MOBILE */
@media(max-width:900px){
  .rn-container{
    grid-template-columns:1fr;
  }
  .rn-left{
    grid-template-columns:1fr;
  }
}
</style>
